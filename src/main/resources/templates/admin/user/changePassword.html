<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/layout/head :: head">
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.3/dist/sweetalert2.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.3.3/dist/sweetalert2.min.js"></script>
</head>

<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

    <div th:replace="admin/layout/header :: header">

    </div>

    <!-- =============================================== -->

    <!-- Left side column. contains the sidebar -->
    <div th:replace="admin/layout/sidebar :: sidebar">

    </div>

    <!-- =============================================== -->

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Main content -->
        <section class="content">

            <div class="container-xl px-4 mt-4">
                <div class="card mb-4">
                    <div class="card-header text-center">Change Password</div>
                    <div class="card-body" style="width: 500px; margin: 0 auto">
                        <form th:action="@{/admin/change-password-user}" method="post">
                            <input type="hidden" class="form-control" id="exampleInputEmail1" name="id"
                                   th:value="${id}">
                            <!-- Form Group (current password)-->
                            <div class="mb-3">
                                <label class="small mb-1" for="currentPassword">Current Password</label>
                                <input class="form-control" id="currentPassword" type="password"
                                       placeholder="Enter current password" name="currentPassword">
                            </div>
                            <!-- Form Group (new password)-->
                            <div class="mb-3">
                                <label class="small mb-1" for="newPassword">New Password</label>
                                <input class="form-control" id="newPassword" type="password"
                                       placeholder="Enter new password" name="newPassword">
                            </div>
                            <!-- Form Group (confirm password)-->
                            <div class="mb-3">
                                <label class="small mb-1" for="confirmPassword">Confirm Password</label>
                                <input class="form-control" id="confirmPassword" type="password"
                                       placeholder="Confirm new password" name="newPassword2">
                            </div>
                            <div class="mb-3">
                                <p th:text="${message}" style="color: orangered"></p>
                            </div>
                            <div class="mb-3 text-center">
                                <button class="btn btn-primary " type="submit">Save</button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>

        </section>
        <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <div th:replace="admin/layout/footer :: footer">


    </div>
    <!-- ./wrapper -->

    <!-- jQuery 3 -->

    <div th:replace="admin/layout/script :: script">

    </div>
</div>
<script>
    function showSuccessPopup() {
        Swal.fire({
            icon: 'success',
            title: 'Thành công!',
            text: 'Mật khẩu của bạn đã được đổi thành công.',
            confirmButtonText: 'OK'
        });
    }
    if ([${success}] === true) {
        showSuccessPopup();
    }
</script>

</body>
</html>
